<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Fiche Althea - {{ student.nom }} {{ student.prenom }}</title>
    <style>
        @page {
            size: A4;
            margin: 0;
        }
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20mm;
            font-size: 11pt;
        }
        .field {
            margin-bottom: 8mm;
            page-break-inside: avoid;
        }
        .field label {
            font-weight: bold;
            display: inline-block;
            width: 40mm;
        }
        .field value {
            display: inline-block;
        }
        h2 {
            text-align: center;
            margin-bottom: 10mm;
        }
        @media print {
            button {
                display: none;
            }
        }
    </style>
</head>
<body>
    <button onclick="window.print()" style="margin-bottom: 10mm;">üñ®Ô∏è Imprimer</button>

    <h2>FICHE DE CONSULTATION OPHTALMOLOGIQUE</h2>

    <div class="field">
        <label>Nom :</label>
        <value>{{ student.nom }}</value>
    </div>

    <div class="field">
        <label>Pr√©nom :</label>
        <value>{{ student.prenom }}</value>
    </div>

    <div class="field">
        <label>√Çge :</label>
        <value>{{ student.age }} ans</value>
    </div>

    <div class="field">
        <label>Classe :</label>
        <value>{{ student.classe }}</value>
    </div>

    <div class="field">
        <label>√âcole :</label>
        <value>{{ student.ecole }}</value>
    </div>

    <div class="field">
        <label>Site :</label>
        <value>{{ student.site }}</value>
    </div>

    <hr style="margin: 10mm 0;">

    <h3>ACUIT√â VISUELLE</h3>
    <div class="field">
        <label>≈íil Droit (OD) :</label>
        <value>{{ student.acuite_od }}/10</value>
    </div>
    <div class="field">
        <label>≈íil Gauche (OG) :</label>
        <value>{{ student.acuite_og }}/10</value>
    </div>

    <hr style="margin: 10mm 0;">

    <h3>PRESCRIPTION</h3>
    <div class="field">
        <label>OD - Sph√®re :</label>
        <value>{{ student.sph_od }}</value>
    </div>
    <div class="field">
        <label>OD - Cylindre :</label>
        <value>{{ student.cyl_od }}</value>
    </div>
    <div class="field">
        <label>OD - Axe :</label>
        <value>{{ student.axe_od }}¬∞</value>
    </div>

    <br>

    <div class="field">
        <label>OG - Sph√®re :</label>
        <value>{{ student.sph_og }}</value>
    </div>
    <div class="field">
        <label>OG - Cylindre :</label>
        <value>{{ student.cyl_og }}</value>
    </div>
    <div class="field">
        <label>OG - Axe :</label>
        <value>{{ student.axe_og }}¬∞</value>
    </div>

    <hr style="margin: 10mm 0;">

    {% if student.observations %}
    <h3>OBSERVATIONS</h3>
    <div class="field">
        <value>{{ student.observations }}</value>
    </div>
    {% endif %}

    <script>
        // Auto-print on load
        window.onload = function() {
            // Optionnel: lancer l'impression automatiquement
            // window.print();
        }
    </script>
</body>
</html>
